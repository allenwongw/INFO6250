{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAO,IAAMA,MAAM,GAAG;EACpBC,YAAY,EAAE,cAAc;EAC5BC,iBAAiB,EAAE,mBAAmB;EACtCC,iBAAiB,EAAE;AACrB,CAAC;AAEM,IAAMC,MAAM,GAAG;EACpBC,aAAa,EAAE,cAAc;EAC7BC,UAAU,EAAE,WAAW;EACvBC,iBAAiB,EAAE;AACrB,CAAC;AAEM,IAAMC,QAAQ,GAAAC,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,KAClBL,MAAM,CAACC,aAAa,EAAG,sDAAsD,GAC7EL,MAAM,CAACE,iBAAiB,EAAG,gCAAgC,GAC3DF,MAAM,CAACG,iBAAiB,EAAG,wDAAwD,cAC3E,yCAAyC,CACnD;;;;;;;;;;;;;;;;;;;ACXmB;AAOH;AAIC;AAElB,IAAMkB,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;AAErC,SAASC,iBAAiBA,CAAAC,IAAA,EAAmB;EAAA,IAAhBV,KAAK,GAAAU,IAAA,CAALV,KAAK;IAAEM,KAAK,GAAAI,IAAA,CAALJ,KAAK;EAC5CA,KAAK,CAACK,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACvC,IAAGA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;MACzC,IAAMC,QAAQ,GAAGT,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC,CAACS,KAAK;MAC3DrB,qDAAU,CAACoB,QAAQ,CAAC,CACnBE,IAAI,CAAE,UAAAC,QAAQ,EAAI;QACfrB,2DAAgB,CAAC,CAAC,CACjBoB,IAAI,CAAE,UAAAC,QAAQ,EAAI;UACflB,6CAAK,CAACkB,QAAQ,CAAC;UACfd,+CAAM,CAAC;YAAEL,KAAK,EAALA,KAAK;YAAEM,KAAK,EAALA;UAAM,CAAC,CAAC;QAC5B,CAAC,CAAC;MACN,CAAC,CAAC,SACI,CAAE,UAAAc,KAAK,EAAI;QACbhB,gDAAQ,CAACgB,KAAK,CAACA,KAAK,CAAC;QACrBf,+CAAM,CAAC;UAAEL,KAAK,EAALA,KAAK;UAAEM,KAAK,EAALA;QAAM,CAAC,CAAC;MAC5B,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;AAAA;AAEK,SAASe,kBAAkBA,CAAAC,KAAA,EAAkB;EAAA,IAAftB,KAAK,GAAAsB,KAAA,CAALtB,KAAK;IAAEM,KAAK,GAAAgB,KAAA,CAALhB,KAAK;EACjDA,KAAK,CAACK,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACnC,IAAGA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;MACtClB,sDAAW,CAAC,CAAC,CACZqB,IAAI,CAAC,UAAAC,QAAQ,EAAI;QACdjB,8CAAM,CAAC,CAAC;QACRG,+CAAM,CAAC;UAAEL,KAAK,EAALA,KAAK;UAAEM,KAAK,EAALA;QAAM,CAAC,CAAC;MAC5B,CAAC,CAAC,SACI,CAAE,UAAAc,KAAK,EAAI;QACbhB,gDAAQ,CAACgB,KAAK,CAACA,KAAK,CAAC;QACrBf,+CAAM,CAAC;UAAEL,KAAK,EAALA,KAAK;UAAEM,KAAK,EAALA;QAAM,CAAC,CAAC;MAC5B,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;AACF;AAEO,SAASiB,cAAcA,CAAAC,KAAA,EAAmB;EAAA,IAAhBxB,KAAK,GAAAwB,KAAA,CAALxB,KAAK;IAAEM,KAAK,GAAAkB,KAAA,CAALlB,KAAK;EAC1CA,KAAK,CAACK,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACtCA,CAAC,CAACa,cAAc,CAAC,CAAC;IAClB,IAAIb,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAC;MACxC,IAAMW,OAAO,GAAGnB,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC,CAACS,KAAK;MACvDlB,2DAAgB,CAAC2B,OAAO,CAAC,CACzBR,IAAI,CAAE,UAAAC,QAAQ,EAAI;QACflB,6CAAK,CAACkB,QAAQ,CAAC;QACfd,+CAAM,CAAC;UAAEL,KAAK,EAALA,KAAK;UAAEM,KAAK,EAALA;QAAM,CAAC,CAAC;MAC5B,CAAC,CAAC,SACC,CAAE,UAAAc,KAAK,EAAI;QACdhB,gDAAQ,CAACgB,KAAK,CAACA,KAAK,CAAC;QACrBf,+CAAM,CAAC;UAAEL,KAAK,EAALA,KAAK;UAAEM,KAAK,EAALA;QAAM,CAAC,CAAC;MAC5B,CAAC,CAAC;IACF;EACJ,CAAC,CAAC;AACF;;;;;;;;;;;;;;;;;;;;;;ACxEO,SAASD,MAAMA,CAAAK,IAAA,EAAmB;EAAA,IAAhBV,KAAK,GAAAU,IAAA,CAALV,KAAK;IAAEM,KAAK,GAAAI,IAAA,CAALJ,KAAK;EACjC,IAAMqB,eAAe,GAAG3B,KAAK,CAAC4B,YAAY,gBAAAC,MAAA,CACpCC,iBAAiB,CAAC9B,KAAK,CAAC,gBAAA6B,MAAA,CACxBE,gBAAgB,CAAC/B,KAAK,CAAC,8MAAA6B,MAAA,CAOvBC,iBAAiB,CAAC9B,KAAK,CAAC,gBAAA6B,MAAA,CACxBG,iBAAiB,CAAChC,KAAK,CAAC,WAC7B;EACDM,KAAK,CAAC2B,SAAS,0BAAAJ,MAAA,CAAwBF,eAAe,WAAQ;AAClE;AAEA,SAASG,iBAAiBA,CAAC9B,KAAK,EAAE;EAC9B,OAAOA,KAAK,CAACoB,KAAK,2BAAAS,MAAA,CAAyB7B,KAAK,CAACoB,KAAK,cAAW,EAAE;AACvE;AAGA,SAASY,iBAAiBA,CAAA,EAAG;EACzB;AAQJ;AAEA,SAASD,gBAAgBA,CAAE/B,KAAK,EAAG;EAC/B,kGAAA6B,MAAA,CAGUK,SAAS,CAAClC,KAAK,CAACmC,KAAK,CAAC,uFAAAN,MAAA,CAGtBO,YAAY,CAACpC,KAAK,CAACqC,QAAQ,CAAC,kFAAAR,MAAA,CAG5BS,eAAe,CAAC,CAAC;AAI/B;AAEO,SAASJ,SAASA,CAACC,KAAK,EAAE;EAC7B,OAAOI,MAAM,CAACC,OAAO,CAACL,KAAK,CAAC,CAACM,GAAG,CAAC,UAAAnB,KAAA;IAAA,IAAAE,KAAA,GAAAkB,cAAA,CAAApB,KAAA;MAAEN,QAAQ,GAAAQ,KAAA;MAAEmB,UAAU,GAAAnB,KAAA;IAAA,iCAAAK,MAAA,CACrCc,UAAU,CAACf,YAAY,GAAG,aAAa,GAAG,cAAc,uBAAAC,MAAA,CAChEb,QAAQ;EAAA,CAEjB,CAAC,CAAC4B,IAAI,CAAC,EAAE,CAAC;AACf;AAEO,SAASR,YAAYA,CAACC,QAAQ,EAAE;EACnC,OAAOA,QAAQ,CAACI,GAAG,CAAC,UAAAI,KAAA;IAAA,IAAG7B,QAAQ,GAAA6B,KAAA,CAAR7B,QAAQ;MAAEU,OAAO,GAAAmB,KAAA,CAAPnB,OAAO;IAAA,+FAAAG,MAAA,CAERb,QAAQ,+BAAAa,MAAA,CACzBH,OAAO;EAAA,CAErB,CAAC,CAACkB,IAAI,CAAC,EAAE,CAAC;AACf;AACA,SAASN,eAAeA,CAAA,EAAG;EACvB;AAKJ;;;;;;;;;;;;;;;;;;ACtEO,SAAS3C,YAAYA,CAAA,EAAG;EAC7BmD,UAAU,CAAC,CAAC;EACZ,OAAOC,KAAK,CAAC,iBAAiB,EAAE;IAC9BC,MAAM,EAAE;EACV,CAAC,CAAC,SACI,CAAC,UAAC5B,KAAK,EAAK;IAChB,OAAO6B,OAAO,CAACC,MAAM,CAAC;MAAE9B,KAAK,EAAE;IAAgB,CAAC,CAAC;EACnD,CAAC,CAAC,CACDF,IAAI,CAAC,UAACC,QAAQ,EAAK;IAClB,IAAI,CAACA,QAAQ,CAACgC,EAAE,EAAE;MAChB,OAAOhC,QAAQ,CAACiC,IAAI,CAAC,CAAC,CAAClC,IAAI,CAAC,UAAAmC,GAAG;QAAA,OAAIJ,OAAO,CAACC,MAAM,CAACG,GAAG,CAAC;MAAA,EAAC;IACzD;IACA,OAAOlC,QAAQ,CAACiC,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,WACM,CAACE,UAAU,CAAC;AACtB;AAEO,SAAS1D,UAAUA,CAACoB,QAAQ,EAAE;EACjC8B,UAAU,CAAC,CAAC;EACZ,OAAOC,KAAK,CAAC,kBAAkB,EAAE;IAC7BC,MAAM,EAAE,MAAM;IACdO,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAE1C,QAAQ,EAARA;IAAS,CAAC;EACrC,CAAC,CAAC,SACI,CAAC,UAAAI,KAAK,EAAI;IACZ,OAAO6B,OAAO,CAACC,MAAM,CAAC;MAAE9B,KAAK,EAAE;IAAgB,CAAC,CAAC;EACrD,CAAC,CAAC,CACDF,IAAI,CAAC,UAAAC,QAAQ,EAAI;IACd,IAAI,CAACA,QAAQ,CAACgC,EAAE,EAAE;MACd,OAAOhC,QAAQ,CAACiC,IAAI,CAAC,CAAC,CAAClC,IAAI,CAAC,UAAAE,KAAK;QAAA,OAAI6B,OAAO,CAACC,MAAM,CAAC9B,KAAK,CAAC;MAAA,EAAC;IAC/D;IACA,OAAOD,QAAQ,CAACiC,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,WACM,CAACE,UAAU,CAAC;AACxB;AAEO,SAASzD,WAAWA,CAAA,EAAG;EAC1BiD,UAAU,CAAC,CAAC;EACZ,OAAOC,KAAK,CAAC,iBAAiB,EAAE;IAC5BC,MAAM,EAAE;EACZ,CAAC,CAAC,SACI,CAAC,UAAC5B,KAAK,EAAK;IACd,OAAO6B,OAAO,CAACC,MAAM,CAAC;MAAE9B,KAAK,EAAE;IAAgB,CAAC,CAAC;EACrD,CAAC,CAAC,CACDF,IAAI,CAAC,UAACC,QAAQ,EAAK;IAChB,IAAI,CAACA,QAAQ,CAACgC,EAAE,EAAE;MACd,OAAOhC,QAAQ,CAACiC,IAAI,CAAC,CAAC,CAAClC,IAAI,CAAC,UAACE,KAAK;QAAA,OAAK6B,OAAO,CAACC,MAAM,CAAC9B,KAAK,CAAC;MAAA,EAAC;IACjE;IACA,OAAOD,QAAQ,CAACiC,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,WACM,CAACE,UAAU,CAAC;AACxB;AAEO,SAASxD,gBAAgBA,CAAA,EAAG;EAC/BgD,UAAU,CAAC,CAAC;EACZ,OAAOC,KAAK,CAAC,kBAAkB,CAAC,SAC1B,CAAC,UAAA3B,KAAK,EAAI;IACZ,OAAO6B,OAAO,CAACC,MAAM,CAAC;MAAE9B,KAAK,EAAE;IAAgB,CAAC,CAAC;EACrD,CAAC,CAAC,CACDF,IAAI,CAAC,UAAAC,QAAQ,EAAI;IACd,IAAI,CAACA,QAAQ,CAACgC,EAAE,EAAE;MACd,OAAOhC,QAAQ,CAACiC,IAAI,CAAC,CAAC,CAAClC,IAAI,CAAC,UAAAE,KAAK;QAAA,OAAI6B,OAAO,CAACC,MAAM,CAAC9B,KAAK,CAAC;MAAA,EAAC;IAC/D;IACA,OAAOD,QAAQ,CAACiC,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,WACM,CAACE,UAAU,CAAC;AACxB;AAEO,SAASvD,gBAAgBA,CAAC2B,OAAO,EAAE;EACtCoB,UAAU,CAAC,CAAC;EACZ,OAAOC,KAAK,CAAC,iBAAiB,EAAE;IAC5BC,MAAM,EAAE,MAAM;IACdO,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEhC,OAAO,EAAPA;IAAQ,CAAC;EACpC,CAAC,CAAC,SACI,CAAC,UAAAN,KAAK,EAAI;IACZ,OAAO6B,OAAO,CAACC,MAAM,CAAC;MAAE9B,KAAK,EAAE;IAAgB,CAAC,CAAC;EACrD,CAAC,CAAC,CACDF,IAAI,CAAC,UAAAC,QAAQ,EAAI;IACd,IAAI,CAACA,QAAQ,CAACgC,EAAE,EAAE;MACd,OAAOhC,QAAQ,CAACiC,IAAI,CAAC,CAAC,CAAClC,IAAI,CAAC,UAAAmC,GAAG;QAAA,OAAIJ,OAAO,CAACC,MAAM,CAACG,GAAG,CAAC;MAAA,EAAC;IAC3D;IACA,OAAOlC,QAAQ,CAACiC,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,WACM,CAACE,UAAU,CAAC;AACxB;AAEA,SAASR,UAAUA,CAAA,EAAG;EACpBvC,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC,CAACM,SAAS,CAAC6C,MAAM,CAAC,QAAQ,CAAC;AACxE;AAEA,SAASL,UAAUA,CAAA,EAAG;EACpB/C,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC,CAACM,SAAS,CAAC8C,GAAG,CAAC,QAAQ,CAAC;AACrE;;;;;;;;;;;;;;;;;;;ACjGuC;AAEvC,IAAM5D,KAAK,GAAG;EACV4B,YAAY,EAAE,KAAK;EACnBZ,QAAQ,EAAE,EAAE;EACZmB,KAAK,EAAE,CAAC,CAAC;EACTE,QAAQ,EAAE,EAAE;EACZjB,KAAK,EAAE;AACX,CAAC;AAEM,SAASlB,MAAMA,CAAA,EAAG;EACrBF,KAAK,CAAC4B,YAAY,GAAG,KAAK;EAC1B5B,KAAK,CAACqC,QAAQ,GAAG,EAAE;EACnBrC,KAAK,CAACgB,QAAQ,GAAG,EAAE;EACnBhB,KAAK,CAACmC,KAAK,GAAG,CAAC,CAAC;EAChBnC,KAAK,CAACoB,KAAK,GAAG,EAAE;AACpB;AAEO,SAASjB,WAAWA,CAAEgB,QAAQ,EAAG;EACpCnB,KAAK,CAACqC,QAAQ,GAAGlB,QAAQ,CAACkB,QAAQ;EAClCrC,KAAK,CAACoB,KAAK,GAAG,EAAE;AACpB;AACO,SAAShB,QAAQA,CAAEgB,KAAK,EAAG;EAC9B,IAAG,CAACA,KAAK,EAAE;IACPpB,KAAK,CAACoB,KAAK,GAAG,EAAE;IAChB;EACJ;EACApB,KAAK,CAACoB,KAAK,GAAG3B,gDAAQ,CAAC2B,KAAK,CAAC,IAAI3B,gDAAQ,WAAQ;AACrD;AAEO,SAASQ,KAAKA,CAAEkB,QAAQ,EAAG;EAC9BnB,KAAK,CAACgB,QAAQ,GAAGG,QAAQ,CAACH,QAAQ;EAClChB,KAAK,CAACmC,KAAK,GAAGhB,QAAQ,CAACgB,KAAK;EAC5BnC,KAAK,CAAC4B,YAAY,GAAG,IAAI;EACzB5B,KAAK,CAACqC,QAAQ,GAAGlB,QAAQ,CAACkB,QAAQ;EAClCrC,KAAK,CAACoB,KAAK,GAAG,EAAE;AACpB;AACA,iEAAepB,KAAK;;;;;;UCrCpB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACAoB;AAOH;AAMC;AAEgE;AAClF,IAAMM,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;AAC5CC,6DAAiB,CAAC;EAAET,KAAK,EAALA,8CAAK;EAAGM,KAAK,EAALA;AAAM,CAAC,CAAC;AACpCe,8DAAkB,CAAC;EAAErB,KAAK,EAALA,8CAAK;EAAGM,KAAK,EAALA;AAAM,CAAC,CAAC;AACrCiB,0DAAc,CAAC;EAAEvB,KAAK,EAALA,8CAAK;EAAEM,KAAK,EAALA;AAAM,CAAC,CAAC;AAChCuD,SAAS,CAAC,CAAC;AAGXlE,uDAAY,CAAC,CAAC,CACbuB,IAAI,CAAE,UAAAC,QAAQ,EAAI;EACfrB,2DAAgB,CAAC,CAAC,CACjBoB,IAAI,CAAC,UAAAC,QAAQ,EAAI;IACdlB,6CAAK,CAACkB,QAAQ,CAAC;IACfd,+CAAM,CAAC;MAAEL,KAAK,EAALA,8CAAK;MAAEM,KAAK,EAALA;IAAK,CAAC,CAAC;EAC3B,CAAC,CAAC;AACN,CAAC,CAAC,SACI,CAAE,UAAAc,KAAK,EAAI;EACblB,8CAAM,CAAC,CAAC;EACRG,+CAAM,CAAC;IAAEL,KAAK,EAALA,8CAAK;IAAEM,KAAK,EAALA;EAAM,CAAC,CAAC;AAC5B,CAAC,CAAC;AAEF,SAASwD,WAAWA,CAAA,EAAG;EACnBhE,2DAAgB,CAAC,CAAC,CACjBoB,IAAI,CAAE,UAAAC,QAAQ,EAAI;IACflB,6CAAK,CAACkB,QAAQ,CAAC;IAEf,IAAM4C,gBAAgB,GAAGxD,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;IAClEuD,gBAAgB,CAAC9B,SAAS,GAAGC,kDAAS,CAAClC,8CAAK,CAACmC,KAAK,CAAC;IAEnD,IAAM6B,mBAAmB,GAAGzD,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC;IACxEwD,mBAAmB,CAAC/B,SAAS,GAAGG,qDAAY,CAACpC,8CAAK,CAACqC,QAAQ,CAAC;EAChE,CAAC,CAAC,SACI,CAAE,UAAAjB,KAAK,EAAI;IACbhB,gDAAQ,CAACgB,KAAK,CAACA,KAAK,CAAC;EACzB,CAAC,CAAC;AACN;AAEA,SAASyC,SAASA,CAAA,EAAG;EACjBC,WAAW,CAAC,CAAC;EACbG,UAAU,CAACJ,SAAS,EAAE,IAAI,CAAC;AAC/B,C","sources":["webpack://project2/./src/constants.js","webpack://project2/./src/listeners.js","webpack://project2/./src/render.js","webpack://project2/./src/services.js","webpack://project2/./src/state.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/chat-cat.js"],"sourcesContent":["export const SERVER = {\n  AUTH_MISSING: 'auth-missing',\n  AUTH_INSUFFICIENT: 'auth-insufficient',\n  REQUIRED_USERNAME: 'required-username',\n};\n\nexport const CLIENT = {\n  NETWORK_ERROR: 'networkError',\n  NO_SESSION: 'noSession',\n  REQUIRED_MESSAGES: 'requiredMessage'\n};\n\nexport const MESSAGES = {\n  [CLIENT.NETWORK_ERROR]: 'Trouble connecting to the network.  Please try again',\n  [SERVER.AUTH_INSUFFICIENT]: 'dog is bad, welcome to use cat',\n  [SERVER.REQUIRED_USERNAME]: 'Please enter a valid (letters and/or numbers) username',\n  default: 'Something went wrong.  Please try again',\n};","import {\n    fetchSession,\n    fetchLogin,\n    fetchLogout,\n    fetchGetMessages,\n    fetchPostMessage,\n} from './services';\n\nimport state, {\n    login,\n    logout,\n    getMessages,\n    setError,\n} from './state';\n\nimport {\n    render\n} from './render';\n\nconst appEl = document.querySelector('#app');\n\nexport function addAbilityToLogin({ state, appEl }) {\n    appEl.addEventListener('click', (e) => {\n    if(e.target.classList.contains('login-cat')) {\n        const username = document.querySelector('.input-cat').value;\n        fetchLogin(username)\n        .then( response => {\n            fetchGetMessages()\n            .then( response => {\n                login(response);\n                render({ state, appEl });\n            })\n        })\n        .catch( error => {\n            setError(error.error)\n            render({ state, appEl });\n        })\n    }   \n})}\n\nexport function addAbilityToLogout({ state, appEl }){\nappEl.addEventListener('click', (e) => {\n    if(e.target.classList.contains('logout')) {\n        fetchLogout()\n        .then(response => {\n            logout()\n            render({ state, appEl });\n        })\n        .catch( error => {\n            setError(error.error);\n            render({ state, appEl });\n        })\n    }\n})\n}\n\nexport function addAbilityPost({ state, appEl } ){\n   appEl.addEventListener('click', (e) => {\n    e.preventDefault();\n    if (e.target.classList.contains('chat-cat')){\n        const message = document.querySelector('.message').value;\n         fetchPostMessage(message)\n        .then( response => {\n            login(response);\n            render({ state, appEl });\n        })\n     .catch( error => {\n        setError(error.error);\n        render({ state, appEl });\n    })       \n    } \n})\n}\n\n","export function render({ state, appEl }) {\n    const mainContentHtml = state.loginPending ? `\n        ${generateErrorHtml(state)}\n        ${generateChatHtml(state)}\n        <div>\n            <button class=\"chat-cat\">Chat~Cat</button>\n            <button class=\"logout\">Cat~Out</button>\n        </div>\n    ` : `\n        <h2>Welcome Cat Chat</h2>\n        ${generateErrorHtml(state)}\n        ${generateLoginHtml(state)}\n    `;\n    appEl.innerHTML = `<div class=\"main\">${mainContentHtml}</div>`;\n}\n\nfunction generateErrorHtml(state) {\n    return state.error ? `<div class=\"error\">${state.error}</div>` : '';\n}\n\n\nfunction generateLoginHtml() {\n    return `\n        <div class=\"login\">\n            <form class=\"login-form\">\n                <input class=\"input-cat\" placeholder=\"'Cat' your name\" />\n                <button type=\"button\" class=\"login-cat\">Log in</button>\n            </form>\n        </div>\n    `;\n}\n\nfunction generateChatHtml( state ) {\n    return `\n        <div class=\"chat\">\n            <div class=\"container-user\">\n            ${usersHtml(state.users)}\n            </div>\n            <div class=\"container-message\">\n            ${messagesHtml(state.messages)}\n            </div>\n            <div class=\"post-message\">\n            ${sendMessageHtml()}\n            </div>\n        </div>\n    `\n}\n\nexport function usersHtml(users) {\n    return Object.entries(users).map(([username, userStatus]) => `\n        <div class=\"${userStatus.loginPending ? 'online-user' : 'offline-user'}\">\n            ${username}\n        </div>\n    `).join('');\n}\n\nexport function messagesHtml(messages) {\n    return messages.map(({ username, message }) => `\n        <div class=\"one-message-container\">\n            <div class=\"username\">${username}</div>\n            <div>${message}</div>\n        </div>\n    `).join('');\n}\nfunction sendMessageHtml() {\n    return `\n        <form class=\"message-send-form\">\n            <input type=\"text\" class=\"message\" placeholder=\"Type and click join us\" />\n        </form>\n    `;\n}\n","export function fetchSession() {\n  showLoader();\n  return fetch(\"/api/v1/session\", {\n    method: \"GET\",\n  })\n  .catch((error) => {\n    return Promise.reject({ error: \"network-error\" });\n  })\n  .then((response) => {\n    if (!response.ok) {\n      return response.json().then(err => Promise.reject(err));\n    }\n    return response.json();\n  })\n  .finally(hideLoader); \n}\n\nexport function fetchLogin(username) {\n    showLoader();\n    return fetch('/api/v1/session/', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n        },\n        body: JSON.stringify({ username }),\n    })\n    .catch(error => {\n        return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n        if (!response.ok) {\n            return response.json().then(error => Promise.reject(error));\n        }\n        return response.json();\n    })\n    .finally(hideLoader);\n}\n\nexport function fetchLogout() {\n    showLoader();\n    return fetch(\"/api/v1/session\", {\n        method: \"DELETE\",\n    })\n    .catch((error) => {\n        return Promise.reject({ error: \"network-error\" });\n    })\n    .then((response) => {\n        if (!response.ok) {\n            return response.json().then((error) => Promise.reject(error));\n        }\n        return response.json();\n    })\n    .finally(hideLoader);\n}\n\nexport function fetchGetMessages() {\n    showLoader();\n    return fetch('/api/v1/messages')\n    .catch(error => {\n        return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n        if (!response.ok) {\n            return response.json().then(error => Promise.reject(error));\n        }\n        return response.json();\n    })\n    .finally(hideLoader);\n}\n\nexport function fetchPostMessage(message) {\n    showLoader();\n    return fetch('/api/v1/message', {\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json',\n        },\n        body: JSON.stringify({ message }),\n    })\n    .catch(error => {\n        return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n        if (!response.ok) {\n            return response.json().then(err => Promise.reject(err));\n        }\n        return response.json();\n    })\n    .finally(hideLoader);\n}\n\nfunction showLoader() {\n  document.querySelector('#loader-container').classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  document.querySelector('#loader-container').classList.add('hidden');\n}\n","import { MESSAGES } from \"./constants\";\n\nconst state = {\n    loginPending: false,\n    username: '',\n    users: {},\n    messages: [],\n    error: '',\n}\n\nexport function logout() {\n    state.loginPending = false;\n    state.messages = [];\n    state.username = '';\n    state.users = {};\n    state.error = '';\n}\n\nexport function getMessages( response ) {\n    state.messages = response.messages;\n    state.error = '';\n}\nexport function setError( error ) {\n    if(!error) {\n        state.error = '';\n        return;\n    }\n    state.error = MESSAGES[error] || MESSAGES.default;\n}\n\nexport function login( response ) {\n    state.username = response.username;\n    state.users = response.users;\n    state.loginPending = true;\n    state.messages = response.messages;\n    state.error = '';\n}\nexport default state;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    fetchSession,\n    fetchLogin,\n    fetchLogout,\n    fetchGetMessages,\n    fetchPostMessage,\n} from './services';\n\nimport state, {\n    login,\n    logout,\n    getMessages,\n    setError,\n} from './state';\n\nimport {\n    render,\n    usersHtml,\n    messagesHtml,\n} from './render';\n\nimport {addAbilityToLogin, addAbilityToLogout, addAbilityPost} from './listeners';\nconst appEl = document.querySelector('#app');\naddAbilityToLogin({ state,  appEl });\naddAbilityToLogout({ state,  appEl });\naddAbilityPost({ state, appEl })\nloadChats();\n\n\nfetchSession()\n.then( response => {\n    fetchGetMessages()\n    .then(response => {\n        login(response);\n        render({ state, appEl});\n    })\n})\n.catch( error => {\n    logout();\n    render({ state, appEl });\n})\n\nfunction pendingChat() {\n    fetchGetMessages()\n    .then( response => {\n        login(response);\n\n        const usersContainerEl = document.querySelector('.container-user');\n        usersContainerEl.innerHTML = usersHtml(state.users);\n\n        const messagesContainerEl = document.querySelector('.container-message');\n        messagesContainerEl.innerHTML = messagesHtml(state.messages);\n    })\n    .catch( error => {\n        setError(error.error);\n    })\n}\n\nfunction loadChats() {\n    pendingChat()\n    setTimeout(loadChats, 5000)\n}\n"],"names":["SERVER","AUTH_MISSING","AUTH_INSUFFICIENT","REQUIRED_USERNAME","CLIENT","NETWORK_ERROR","NO_SESSION","REQUIRED_MESSAGES","MESSAGES","_defineProperty","fetchSession","fetchLogin","fetchLogout","fetchGetMessages","fetchPostMessage","state","login","logout","getMessages","setError","render","appEl","document","querySelector","addAbilityToLogin","_ref","addEventListener","e","target","classList","contains","username","value","then","response","error","addAbilityToLogout","_ref2","addAbilityPost","_ref3","preventDefault","message","mainContentHtml","loginPending","concat","generateErrorHtml","generateChatHtml","generateLoginHtml","innerHTML","usersHtml","users","messagesHtml","messages","sendMessageHtml","Object","entries","map","_slicedToArray","userStatus","join","_ref4","showLoader","fetch","method","Promise","reject","ok","json","err","hideLoader","headers","body","JSON","stringify","remove","add","loadChats","pendingChat","usersContainerEl","messagesContainerEl","setTimeout"],"sourceRoot":""}