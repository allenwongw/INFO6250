{"version":3,"file":"word-store.js","mappings":"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","sources":["webpack://08-js-service-calls/./src/services.js","webpack://08-js-service-calls/./src/web-page.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/word-store.js"],"sourcesContent":["// This is a sample file that demonstrates\n// how you can write an abstraction around\n// a fetch() call\n// This exported function returns a promise\n// that resolves with data\n// or rejects with an error object\n//\n// The caller of this function can decide\n// what to do with the data\n// or what to do with the error\n//\n// You can add to this file and use this function\n// or write your own files/functions\n\nexport function fetchSession(){\n  return fetch('/api/session', {\n    method: 'GET'\n  })\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    return response.json();\n  })\n}\n\nexport function fetchLogin(username){\n  return fetch('/api/session', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify( {username} ),\n  })\n  // fetch() rejects on network error\n  // So we convert that to a formatted error object\n  // so our caller can handle all \"errors\" in a similar way\n  .catch( err => Promise.reject({ error: 'network-error' }))\n  .then( response => {\n    if (!response.ok) {\n      return response.json().then( err => Promise.reject(err) );\n    } else {\n      response.json();\n    }\n  })\n}\n\nexport function fetchWord() {\n  return fetch('/api/word',{\n    method: 'GET'\n  })\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    return response.json();\n  })\n}\n\nexport function fetchPostWord(word){\n  return fetch('/api/word', {\n    method: 'PUT',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify( { word } ),\n  })\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json()\n    } else {\n      return response.json().then( err => Promise.reject(err) )\n    }\n  })\n}\n\nexport function fetchLogout(){\n  return fetch('/api/session', {\n    method: 'DELETE',\n    headers: {\n      'content-type': 'application/json',\n    },\n  })\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if (response.ok) {\n      return response.json()\n    }\n  })\n}","const webPage = document.querySelector('#app');\nexport const render = (username,currentWord) => {\n\nwebPage.innerHTML = generateHtml(username, currentWord);\n    return;\n}\n\nconst generateHtml = (username, currentWord) => {\n    if (!username && !currentWord) {\n        return `\n            <div class=\"container\">\n                <input class=\"input\" placeholder=\"login your name\"/>\n                <button class=\"cat-login\">Cat~In</button>\n            </div>\n            <div class=\"error\"></div>\n        `\n    } else {\n        return `\n            <div class=\"container\">\n                <div class=\"user-name\">\n                    <div class=\"user-name\">Your Name ${username}</div>\n                    <div class=\"new-words\" >New Words: ${currentWord || ' '}</div>\n                </div>\n                <input class=\"input\" placeholder=\" 'cat' your word \"/>\n                <button class=\"new-word\">New Word</button>\n                <button class=\"log-out\">Log out</button>\n            </div>\n            <div class=\"error\"></div>\n        `\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { fetchSession, fetchLogin, fetchPostWord, fetchWord, fetchLogout } from \"./services\";\nimport { render } from \"./web-page\";\n\nconst webPage = document.querySelector('#app');\nconst errorEl = document.querySelector('.error');\n\n\nfetchSession()\n.catch( err => {\n    if (err.error == 'network-error') {\n        errorEl.innerHTML = `<p>network error</p>`;\n    }\n} )\n.then( response => {\n    if (!response.error) {\n        const { username } = response;\n        fetchWord(username)\n        .catch( err => {\n            if (err.error == 'network-error') {\n                errorEl.innerHTML = `<p>network error</p>`;\n            }\n        } )\n        .then( response => {\n            const { username, storedWord } = response;\n            render(username, storedWord);\n        })\n    } \n    render('', '');\n});\n\nwebPage.addEventListener('click', (e) =>{\n    if (e.target.classList.contains('cat-login')) {\n        const input = document.querySelector('.input');\n        const username = input.value;\n        fetchLogin(username)\n        .catch( err => {\n            if (err.error == 'network-error') {\n                errorEl.innerHTML = `<p>network error</p>`; \n            } else if (err.error == 'required-username') {\n                errorEl.innerHTML = `<p>Kindly use numbers and letters</p>`; \n            } else if (err.error == 'auth-insufficient') {\n                errorEl.innerHTML = `<p>dog is disaster, use cat</p>`; \n            }\n        } )\n        .then(response => {\n            fetchWord()\n            .catch( err => {\n                     if (err.error == 'network-error') {\n                    errorEl.innerHTML = `<p>network error</p>`; \n                }\n            } )\n            .then( response => {\n                const { username, storedWord } = response;\n                render(username, storedWord);\n            })\n        });\n        return;\n    }\n    \n    if (e.target.classList.contains('new-word')) {\n        const input = document.querySelector('.input');\n        const newWord = input.value;\n\n        fetchPostWord(newWord)\n        .catch( err => {\n            if (err.error == 'network-error') {\n                errorEl.innerHTML = `<p>network error</p>`;\n            } else if (err.error == 'invalid-word') {\n                errorEl.innerHTML = `<p>Kindly use letters</p>`\n    } })\n        .then( response => {\n            if (response) {\n                const { username, storedWord } = response;\n                render(username, storedWord);                \n            }\n        });\n     \n    }\n    if (e.target.classList.contains('log-out')) {\n        fetchLogout()\n        .catch( err => {\n            if (err.error == 'network-error') {\n                errorEl.innerHTML = `<p>network error</p>`;\n            }\n        } )\n        .then( response => {\n            errorEl.innerHTML = response.error ? errorEl.innerHTML : '';\n            render('', '');\n            return;\n        });\n    }\n})\n"],"names":["fetchSession","fetch","method","err","Promise","reject","error","then","response","json","fetchLogin","username","headers","body","JSON","stringify","ok","fetchWord","fetchPostWord","word","fetchLogout","webPage","document","querySelector","render","currentWord","innerHTML","generateHtml","concat","errorEl","storedWord","addEventListener","e","target","classList","contains","input","value","newWord"],"sourceRoot":""}